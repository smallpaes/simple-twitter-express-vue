(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-495a0b8a"],{"16c0":function(e,t,r){"use strict";var s=r("b60e"),i=r.n(s);i.a},"9f73":function(e,t,r){"use strict";var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"text-center"},[r("h1",{staticClass:"mb-2 username"},[e._v(e._s(e.user.name))]),r("div",{staticClass:"userpic mb-2"},[r("img",{staticStyle:{height:"150px",width:"150px"},attrs:{src:e._f("placeholderImage")(e.user.avatar),alt:"avatar"}})]),r("p",{staticClass:"mt-3 mb-3"},[e._v(e._s(e.user.introduction))]),r("ul",{staticClass:"mt-3"},[r("li",[r("router-link",{attrs:{to:{name:"followings",params:{id:e.user.id}}}},[e._v(e._s(e.user.FollowingCount)+" Followings")])],1),r("li",[r("router-link",{attrs:{to:{name:"followers",params:{id:e.user.id}}}},[e._v(e._s(e.user.FollowerCount)+" Followers")])],1),r("li",[r("router-link",{attrs:{to:{name:"likes",params:{id:e.user.id}}}},[e._v(e._s(e.user.LikeCount)+" Likes")])],1),r("li",[r("router-link",{attrs:{to:{name:"user-tweets",params:{id:e.user.id}}}},[e._v(e._s(e.user.TweetsCount)+" Tweets")])],1)]),r("div",{staticClass:"userbuttons"},[e.user.isFollowing?r("button",{staticClass:"btn btn-danger",on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.removeFollowing(e.user.id)}}},[e._v("unFollow")]):e.user.id==e.currentUser.id?r("router-link",{staticClass:"btn btn-secondary",attrs:{to:{name:"user-edit",params:{id:e.user.id}}}},[e._v("Edit")]):r("button",{staticClass:"btn btn-primary",on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.addFollowing(e.user.id)}}},[e._v("Follow")])],1)])},i=[],n=(r("8e6e"),r("ac6a"),r("456d"),r("c5f6"),r("96cf"),r("3b8d")),a=r("bd86"),o=r("2708"),u=r("2f62"),c=r("b025"),l=r("2fa3");function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(r,!0).forEach((function(t){Object(a["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d={mixins:[o["b"]],props:{initialUser:{type:Object,required:!0}},data:function(){return{user:this.initialUser}},watch:{initialUser:function(e){this.user=p({},this.user,{},e)}},computed:p({},Object(u["b"])(["currentUser"])),methods:{addFollowing:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c["a"].addFollowing({userId:t});case 3:if(r=e.sent,s=r.data,i=r.statusText,"OK"===i&&"success"===s.status){e.next=8;break}throw new Error(i);case 8:this.user=p({},this.user,{isFollowing:!0,FollowerCount:Number(this.user.FollowerCount)+1}),this.$emit("after-add-followship",{currentUser:this.currentUser}),l["a"].fire({type:"success",title:"Successfully follow the user!"}),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](0),l["a"].fire({type:"error",title:"Cannot follow the user, please try again later"});case 16:case"end":return e.stop()}}),e,this,[[0,13]])})));function t(t){return e.apply(this,arguments)}return t}(),removeFollowing:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c["a"].removeFollowing({userId:t});case 3:if(r=e.sent,s=r.data,i=r.statusText,"OK"===i&&"success"===s.status){e.next=8;break}throw new Error(i);case 8:this.user=p({},this.user,{isFollowing:!1,FollowerCount:Number(this.user.FollowerCount)-1}),this.$emit("after-remove-followship",{currentUser:this.currentUser}),l["a"].fire({type:"success",title:"Successfully unfollow the user!"}),e.next=17;break;case 13:e.prev=13,e.t0=e["catch"](0),this.isProcessing=!1,l["a"].fire({type:"error",title:"Cannot unfollow the user, please try again later"});case 17:case"end":return e.stop()}}),e,this,[[0,13]])})));function t(t){return e.apply(this,arguments)}return t}()}},h=d,w=(r("16c0"),r("2877")),b=Object(w["a"])(h,s,i,!1,null,null,null);t["a"]=b.exports},b60e:function(e,t,r){},c49c:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.isLoading?r("Spinner"):r("section",{staticClass:"px-2"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-lg-3"},[r("UserProfile",{key:e.user.id,attrs:{"initial-user":e.user}})],1),r("div",{staticClass:"col-lg-9"},[r("div",{staticClass:"row px-3"},[r("h4",{staticClass:"col-12 title"},[e._v("Likes")]),e._l(e.tweets,(function(t){return r("TweetCard",{key:t.id,attrs:{"initial-tweet":t},on:{"after-remove-like":e.afterRemoveLike,"after-add-like":e.afterAddLike}})})),e.tweets.length<1?r("div",{staticClass:"col-12 shadow-sm p-3 rounded bg-white"},[r("i",{staticClass:"fas fa-user mr-2"}),e._v("Haven't liked any tweets yet\n        ")]):e._e()],2)])])])},i=[],n=(r("8e6e"),r("ac6a"),r("456d"),r("c5f6"),r("96cf"),r("3b8d")),a=r("bd86"),o=r("9f73"),u=r("2fa3"),c=r("2375"),l=r("4cce"),f=r("8f7b"),p=r("2f62");function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(r,!0).forEach((function(t){Object(a["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var w={components:{UserProfile:o["a"],TweetCard:f["a"],Spinner:c["a"]},data:function(){return{user:{},isLoading:!1,tweets:[]}},computed:h({},Object(p["b"])(["currentUser"])),created:function(){var e=this.$route.params.id;this.fetchUserLikes(e)},beforeRouteUpdate:function(e,t,r){var s=e.params.id;this.fetchUserLikes(s),r()},methods:{fetchUserLikes:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r,s,i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.isLoading=!0,e.next=4,l["a"].getUserLikes({userId:t});case 4:if(r=e.sent,s=r.statusText,i=r.data,"OK"===s&&"success"===i.status){e.next=9;break}throw new Error(s);case 9:n=i.likes.map((function(e){return h({},e.Tweet,{isLiked:e.isLiked})})),this.tweets=n,this.user=h({},i.user,{LikeCount:i.user.LikesCount}),this.isLoading=!1,e.next=19;break;case 15:e.prev=15,e.t0=e["catch"](0),this.isLoading=!1,u["a"].fire({type:"error",title:"Cannot get  user tweets, please try again later!"});case 19:case"end":return e.stop()}}),e,this,[[0,15]])})));function t(t){return e.apply(this,arguments)}return t}(),afterRemoveLike:function(){this.currentUser.id===this.user.id&&(this.user.LikeCount=Number(this.user.LikeCount)-1)},afterAddLike:function(){this.currentUser.id===this.user.id&&(this.user.LikeCount=Number(this.user.LikeCount)+1)}}},b=w,v=r("2877"),m=Object(v["a"])(b,s,i,!1,null,null,null);t["default"]=m.exports}}]);
//# sourceMappingURL=chunk-495a0b8a.a787a7c9.js.map