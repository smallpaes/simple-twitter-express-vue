(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-52e7847a"],{"00ea":function(t,e,a){},7470:function(t,e,a){"use strict";var s=a("dba7"),r=a.n(s);r.a},"7b1d":function(t,e,a){"use strict";var s=a("00ea"),r=a.n(s);r.a},be6c:function(t,e,a){"use strict";var s=a("2fa3");e["a"]={getUsers:function(){return s["b"].get("/admin/users")},getTweets:function(){return s["b"].get("/admin/tweets")},deleteTweet:function(t){var e=t.tweetId;return s["b"].delete("/admin/tweets/".concat(e))}}},dba7:function(t,e,a){},fa6a:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isLoading?a("Spinner"):a("section",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-10 offset-md-1 col-lg-8 offset-lg-2"},[a("h4",{staticClass:"title"},[t._v("Tweet Admin")]),a("div",{staticClass:"accordion my-3",attrs:{id:"tweets"}},[a("div",{staticClass:"bg-white px-3 py-2 rounded-top admin-nav"},[a("router-link",{staticClass:"mr-3",attrs:{to:{name:"admin-tweets"}}},[t._v("Tweets")]),a("router-link",{attrs:{to:{name:"admin-users"}}},[t._v("Users")])],1),t._l(t.tweets,(function(e){return a("AdminTweetCard",{key:e.id,attrs:{tweet:e},on:{"after-delete":t.handleAfterDelete}})}))],2)])])])},r=[],n=(a("96cf"),a("3b8d")),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card border-left-0 border-right-0"},[a("div",{staticClass:"card-header bg-white",attrs:{id:"headingOne"}},[a("div",{staticClass:"media"},[a("img",{staticClass:"mr-3 rounded-circle",attrs:{src:t._f("placeholderImage")(t.tweet.User.avatar),alt:"avatar"}}),a("div",{staticClass:"media-body"},[a("h6",{staticClass:"mt-0 font-weight-bold d-inline-block"},[a("router-link",{attrs:{to:{name:"user-tweets",params:{id:t.tweet.User.id}}}},[t._v(t._s(t.tweet.User.name))])],1),a("small",{staticClass:"text-muted ml-2"},[t._v("⋅ "+t._s(t._f("fromNow")(t.tweet.createdAt)))]),a("button",{staticClass:"close",attrs:{disabled:t.isProcessing,type:"button","aria-label":"Close"},on:{click:function(e){return e.stopPropagation(),t.deleteTweet(t.tweet.id)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),a("p",[t._v(t._s(t.tweet.description))]),a("span",[a("i",{staticClass:"far fa-heart mr-1"}),t._v("\n          "+t._s(t.tweet.LikesCount)+"\n        ")]),a("button",{staticClass:"btn btn-link action-btn",attrs:{type:"button","data-toggle":"collapse","data-target":"#index"+t.tweet.id,"aria-expanded":"false","aria-controls":"index"+t.tweet.id}},[a("i",{staticClass:"far fa-comment mr-1"}),t._v("\n          "+t._s(t.tweet.RepliesCount)+"\n        ")])])])]),a("div",{staticClass:"collapse",attrs:{id:"index"+t.tweet.id,"aria-labelledby":"headingOne","data-parent":"#tweets"}},t._l(t.tweet.Replies,(function(e){return a("div",{key:e.id,staticClass:"card-body reply-box"},[a("div",{staticClass:"media"},[a("img",{staticClass:"mr-3 rounded-circle",attrs:{src:t._f("placeholderImage")(e.User.avatar),alt:"avatar"}}),a("div",{staticClass:"media-body"},[a("h6",{staticClass:"mt-0 font-weight-bold d-inline-block"},[a("router-link",{attrs:{to:{name:"user-tweets",params:{id:e.User.id}}}},[t._v(t._s(e.User.name))])],1),a("small",{staticClass:"text-muted ml-2"},[t._v("⋅ "+t._s(t._f("fromNow")(e.createdAt)))]),a("p",[t._v(t._s(e.comment))])])])])})),0)])},c=[],o=a("2708"),d=a("be6c"),l=a("2fa3"),u={props:{tweet:{type:Object,required:!0}},data:function(){return{isProcessing:!1}},mixins:[o["a"],o["b"]],methods:{deleteTweet:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var a,s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.isProcessing=!0,t.next=4,d["a"].deleteTweet({tweetId:e});case 4:if(a=t.sent,s=a.data,r=a.statusText,"Accepted"===r&&"success"===s.status){t.next=9;break}throw new Error(r);case 9:this.$emit("after-delete",e),l["a"].fire({type:"success",title:"Delete successfully!"}),this.isProcessing=!1,t.next=18;break;case 14:t.prev=14,t.t0=t["catch"](0),this.isProcessing=!1,l["a"].fire({type:"error",title:"Cannot delete the tweet, please try again later"});case 18:case"end":return t.stop()}}),t,this,[[0,14]])})));function e(e){return t.apply(this,arguments)}return e}()}},f=u,w=(a("7b1d"),a("2877")),m=Object(w["a"])(f,i,c,!1,null,"ecfe6438",null),p=m.exports,h=a("2375"),b={data:function(){return{tweets:[],isLoading:!0}},components:{Spinner:h["a"],AdminTweetCard:p},mixins:[o["a"],o["b"]],created:function(){this.fetchTweets()},methods:{fetchTweets:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d["a"].getTweets();case 3:if(e=t.sent,a=e.data,s=e.statusText,"OK"===s&&"success"===a.status){t.next=8;break}throw new Error(s);case 8:this.tweets=a.tweets,this.isLoading=!1,t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](0),this.isLoading=!1,l["a"].fire({type:"error",title:"Cannot get tweet data, please try again later"});case 16:case"end":return t.stop()}}),t,this,[[0,12]])})));function e(){return t.apply(this,arguments)}return e}(),handleAfterDelete:function(t){this.tweets=this.tweets.filter((function(e){return e.id!==t}))}}},v=b,g=(a("7470"),Object(w["a"])(v,s,r,!1,null,"4a9e6152",null));e["default"]=g.exports}}]);
//# sourceMappingURL=chunk-52e7847a.2bb526b8.js.map