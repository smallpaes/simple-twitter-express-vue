(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-27c9f3dd"],{"86a0":function(t,e,a){},b0b8:function(t,e,a){"use strict";var r=a("86a0"),n=a.n(r);n.a},da5c:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isLoading?a("Spinner"):a("section",{staticClass:"container"},[a("form",{staticClass:"row",on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit(e)}}},[a("div",{staticClass:"col-12 col-md-3 bg-white rounded p-3 mr-3 mb-3 mb-md-0"},[a("img",{staticClass:"rounded img-thumbnail w-100",attrs:{src:t._f("placeholderImage")(t.avatar),alt:"avatar"}}),a("div",{staticClass:"form-group mt-3"},[a("input",{staticClass:"form-control-file",attrs:{type:"file",id:"avatar",name:"avatar",accept:".jpg, .jpeg, .png"},on:{input:t.handleFileChange}})])]),a("div",{staticClass:"col-12 col-md-8 bg-white rounded p-3"},[a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",id:"name",name:"name",placeholder:"Name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.introduction,expression:"introduction"}],staticClass:"form-control",attrs:{placeholder:"Type any thing about you here...",id:"introduction",name:"introduction",rows:"3"},domProps:{value:t.introduction},on:{input:function(e){e.target.composing||(t.introduction=e.target.value)}}})]),a("div",{staticClass:"text-right"},[a("button",{staticClass:"btn",attrs:{type:"submit",disabled:t.isProcessing}},[t._v("Submit")])])])])])},n=[],i=(a("7f7f"),a("96cf"),a("3b8d")),s=a("2708"),o=a("4cce"),c=a("2fa3"),u=a("2375"),d={mixins:[s["b"]],components:{Spinner:u["a"]},data:function(){return{id:"",name:"",introduction:"",avatar:"",isLoading:!0,isProcessing:!1}},created:function(){var t=this.$route.params.id;this.fetchUser(t)},methods:{fetchUser:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var a,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.isLoading=!0,t.next=4,o["a"].getEditUser({userId:e});case 4:if(a=t.sent,r=a.data,n=a.statusText,"OK"===n&&"success"===r.status){t.next=9;break}throw new Error(n);case 9:this.id=r.user.id,this.name=r.user.name,this.introduction=r.user.introduction,this.avatar=r.user.avatar,this.isLoading=!1,t.next=20;break;case 16:t.prev=16,t.t0=t["catch"](0),this.isLoading=!1,c["a"].fire({type:"error",title:"Cannot get your data, please try again later"});case 20:case"end":return t.stop()}}),t,this,[[0,16]])})));function e(e){return t.apply(this,arguments)}return e}(),handleFileChange:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.target.files[0],a){t.next=3;break}return t.abrupt("return");case 3:r=window.URL.createObjectURL(a),this.avatar=r;case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),handleSubmit:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var a,r,n,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.name){t.next=3;break}return c["a"].fire({type:"error",title:"Please enter your name"}),t.abrupt("return");case 3:return a=e.target,r=new FormData(a),t.prev=5,this.isProcessing=!0,t.next=9,o["a"].postEditUser({formData:r,userId:this.id});case 9:if(n=t.sent,i=n.data,s=n.statusText,"OK"===s&&"success"===i.status){t.next=14;break}throw new Error(i.message);case 14:this.$store.commit("setCurrentUser",{avatar:this.avatar}),this.$router.push("/users/".concat(this.id,"/tweets")),t.next=22;break;case 18:t.prev=18,t.t0=t["catch"](5),this.isProcessing=!1,c["a"].fire({type:"error",title:t.t0.message||"Cannot update your profile, please try again later"});case 22:case"end":return t.stop()}}),t,this,[[5,18]])})));function e(e){return t.apply(this,arguments)}return e}()}},l=d,m=(a("b0b8"),a("2877")),p=Object(m["a"])(l,r,n,!1,null,"599d4ffe",null);e["default"]=p.exports}}]);
//# sourceMappingURL=chunk-27c9f3dd.1e9e205c.js.map